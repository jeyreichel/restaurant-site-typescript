<div class="container edit-div">
    <div class="row">
        <div class="col-xs-12 col-md-6 col-md-offset-3">
            <h2 style="margin-bottom: 40px;">{{selectedPath | titlecase }} Item</h2>
            <!-- display name of the item dynamically -->

            <form [formGroup]="addOrEditItemsForm" (ngSubmit)="onSubmit()">
                <div (click)="hideErrors()">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Title</label>
                        <input type="itemTitle" class="form-control" formControlName="itemTitle">
                        <span class="error-text" *ngIf="addOrEditItemsForm.controls.itemTitle.errors != null && addOrEditItemsForm.controls.itemTitle.touched">Please enter a title for this item.</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Description</label>
                        <input type="itemDesc" class="form-control" formControlName="itemDesc">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Amount</label>
                        <input type="itemAmt" class="form-control" formControlName="itemAmt">
                        <span class="error-text" *ngIf="addOrEditItemsForm.controls.itemAmt.errors != null && addOrEditItemsForm.controls.itemAmt.touched">Please enter a valid amount.</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Category</label>
                        <select class="form-select" aria-label="Default select example" formControlName="itemCategory">
                            <option selected disabled>Select a category</option>
                            <option value="starters">Starters</option>
                            <option value="mains">Mains</option>
                            <option value="alcoholic-beverages">Alcoholic Beverages</option>
                            <option value="desserts">Desserts</option>
                      </select>
                        <span class="error-text" *ngIf="addOrEditItemsForm.controls.itemCategory.errors != null && addOrEditItemsForm.controls.itemCategory.touched">Please select a category.</span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Thumbnail image</label>

                    <div class="form-group mobile-only" *ngIf="previewPath != null" style="margin-top: 15px;">
                        <div class="container-fluid no-padding">
                            <img [src]=previewPath alt="" class="img-thumbnail" />
                        </div>
                    </div>

                    <input type="file" class="form-control text-nowrap text-truncate" *ngIf="!isUploaded" accept="image/png, image/jpeg, image/jpg" formControlName="itemImage" (change)="selectFile($event)">

                    <span class="error-text" *ngIf="addOrEditItemsForm.controls.itemImage.errors != null && addOrEditItemsForm.controls.itemImage.touched">Please set and upload an image for this item.</span>
                </div>

                <div *ngIf="isUploading" class="progress mt-2" style="margin-bottom: 15px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" attr.aria-valuenow="{{ uploadPercentage }}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: uploadPercentage + '%' }">
                        {{ uploadPercentage }}%
                    </div>
                </div>

                <div class="alert alert-success" role="alert" *ngIf="isUploaded">
                    Uploaded successfully.
                </div>

                <div class="alert alert-danger" role="alert" *ngIf="(selectedFile) && (!isImage)">
                    Please select an .jpg, .jpeg or .png file only.
                </div>

                <div class="alert alert-danger" role="alert" *ngIf="isUploadBtnClicked == true && isSelectedCategory == false">
                    Please select a category.
                </div>

                <div class="form-group">
                    <button type="button" *ngIf="(!isUploading) && (!isUploaded) && isImage" class="btn btn-warning btn-sm" [disabled]="!selectedFile" (click)="onUpload()">
                        <i class="fa fa-upload" aria-hidden="true"></i> Upload
                    </button>
                </div>

                <button type="submit" class="btn btn-md btn-primary" [disabled]="(!addOrEditItemsForm.valid) || isUploaded == false">{{submitBtnText}}</button>
            </form>
        </div>


        <div class="col-xs-12 col-md-6 col-md-offset-3 on-mobile-hide" *ngIf="previewPath != null">
            <h2 style="margin-bottom: 40px; text-align: center;">Thumbnail Image Preview</h2>

            <div class="container-fluid no-padding">
                <div class="row">
                    <div class="col-md-12">
                        <img [src]=previewPath alt="" class="img-thumbnail" />
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>